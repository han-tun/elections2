<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wrangle and Visualize Election Data With 2 Candidates or Choices • elections2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Wrangle and Visualize Election Data With 2 Candidates or Choices">
<meta property="og:description" content="Calculate winners, percents, and victory/loss margins from a spreadsheet or CSV of election results.
    Additional functions make it easy to generate bar graphs and maps from the data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">elections2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/barcharts.html">Barcharts</a>
    </li>
    <li>
      <a href="articles/intro.html">Intro</a>
    </li>
    <li>
      <a href="articles/maps.html">Maps</a>
    </li>
    <li>
      <a href="articles/tables.html">Tables</a>
    </li>
    <li>
      <a href="articles/turnout.html">Mapping Turnout</a>
    </li>
    <li>
      <a href="articles/wrangle-results.html">Wrangle Results</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/smach/elections2/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="elections2" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#elections2" class="anchor"></a>elections2</h1></div>
<p>Wrangle and Visualize Election Data Easily analyze your election results data with the election2 package. One command calculates winners and percents for each election district row as well as overall totals.</p>
<p>Then, take those results and turn them into interactive tables, bar charts, and maps with functions like <code><a href="reference/bargraph_of_margins.html">bargraph_of_margins()</a></code>, <code><a href="reference/quick_table.html">quick_table()</a></code>, and <code><a href="reference/map_election_results.html">map_election_results()</a></code>.</p>
<p>election2 is designed for journalists, hobbyists, analysts, and data geeks who want to quickly go from a spreadsheet or CSV file with raw vote totals to visualizations that help you see trends behind the data.</p>
<p>Note: This package is not on CRAN, so you need to install it from GitHub with the R package and function of your choice, such as</p>
<p><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("smach/elections2", build_vignettes = TRUE)</a></code></p>
<div id="data-wrangling" class="section level2">
<h2 class="hasAnchor">
<a href="#data-wrangling" class="anchor"></a>Data wrangling</h2>
<p>Start with a function to wrangle a spreadsheet or CSV file with basic results. You’ve got two options: <code><a href="reference/wrangle_results.html">wrangle_results()</a></code> to generate detailed results from a file with only two candidates or choices; and <code><a href="reference/wrangle_more_cols.html">wrangle_more_cols()</a></code> for results with more than two choices.</p>
<div id="data-with-only-2-choices" class="section level3">
<h3 class="hasAnchor">
<a href="#data-with-only-2-choices" class="anchor"></a>Data with only 2 choices</h3>
<p><code><a href="reference/wrangle_results.html">wrangle_results()</a></code> assumes you want to compare the performance of only two candidates (which means ignoring third parties, write-ins, and blanks) or a yes-no ballot question.</p>
<p>It returns information for each row and total on the winner, percents, and percent and vote margins when there are only two choices your election data. The function also includes a turnout_columns option if the data includes columns for vote totals and total registered voters in order to calculate turnout percentage.</p>
<p>After running wrangle_results() on your data, you can use the resulting data frame in this package’s visualization functions to create tables, bar graphs, and maps.</p>
<div id="data-format" class="section level4">
<h4 class="hasAnchor">
<a href="#data-format" class="anchor"></a>Data format</h4>
<p>If turnout_columns = FALSE, the election results file <em>must</em> be in the following 3-column format:</p>
<ul>
<li>
Column 1 should be the election districts (such as precinct, city, county, etc.).
</li>
<br><li>
Columns 2 and 3 should be the candidates’ names, “Yes” and “No” for ballot questions, etc. The values should be <em>raw vote totals</em> and not percents.
</li>
<p></p>
<p>Do <em>not</em> include any column or row totals in the file!</p>
<p>If you want to include turnout data, set turnout_columns = TRUE and include total number of votes in column 4 and total number of registered voters in column 5. <em>Don’t</em> include a column for turnout percent, as this will be calculated by wrangle_results().</p>
<p>```{r import_results} library(elections2) results_file &lt;- system.file(“extdata”, “FakeElectionResults.xlsx”, package = “elections2”)</p>
<p>my_election_data &lt;- wrangle_results(results_file)</p>
</ul>
<pre><code>
The resulting data frame will include a Total row for use in generating tables. This package's dataviz functions will remove the Total row if it exists, as long as you keep the name as 'Total'.

It will be in a format such as

```{r viewdata }
head(my_election_data, n = 3)
</code></pre>
</div>
</div>
<div id="data-with-3-or-more-choices" class="section level3">
<h3 class="hasAnchor">
<a href="#data-with-3-or-more-choices" class="anchor"></a>Data with 3 or more choices</h3>
<p>To analyze and visualize election results with three or more choices – a crowded primary or a multi-party election, for example – use the <code><a href="reference/wrangle_more_cols.html">wrangle_more_cols()</a></code> function.</p>
<p>The data spreadsheet or CSV should have the election district (precinct, city, etc.) in the first column. Vote totals (for candidates, parties, etc.) should be one column for each option. Don’t include a total row or column, since those will be calculated.</p>
<p><code><a href="reference/wrangle_more_cols.html">wrangle_more_cols()</a></code> has two required arguments: the file name and a vector of character strings with all the vote columns by candidate/party/option. the starting column with results, and the ending column with results.</p>
<p>The function also has four optional logical arguments: show_pcts to return results as percents instead of total votes, show_runnerup to include a column with the 2nd-place finisher, show_margin to display a column with the difference between the 1st- and 2nd-place finishers, and show_margin_2vs3 to show the difference between the 2nd- and 3rd-place finishers.</p>
</div>
</div>
<div id="visualizations" class="section level2">
<h2 class="hasAnchor">
<a href="#visualizations" class="anchor"></a>Visualizations</h2>
<p><strong>Interactive tables</strong> Use the <code><a href="reference/quick_table.html">quick_table()</a></code> or <code><a href="reference/quick_table_more_cols.html">quick_table_more_cols()</a></code> functions. See the tables vignette with <code><a href="articles/tables.html">vignette("tables", package = "elections2")</a></code> for more.</p>
<p><strong>Bar charts</strong> Use the <code>bar_graph_of_winner_pct_margins()</code> function. See the barcharts vignette with <code><a href="articles/barcharts.html">vignette("barcharts", package = "elections2")</a></code> for more info.</p>
<p><strong>Election results maps</strong> See the maps vignette: `vignette(“maps”, package = “elections2”)</p>
<p><strong>Turnout maps</strong> See the turnout maps vignette: `vignette(“map_turnout”, package = “elections2”)</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/smach/elections2/">https://​github.com/​smach/​elections2/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/smach/elections2/issues">https://​github.com/​smach/​elections2/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.mozilla.org/en-US/MPL/2.0/">MPL-2.0</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sharon Machlis <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Sharon Machlis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
